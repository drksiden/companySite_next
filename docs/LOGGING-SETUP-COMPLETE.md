# ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Winston –ª–æ–≥–≥–µ—Ä
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Grafana Loki –¥–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Docker Compose —Å—Ç–µ–∫ (Grafana + Loki + Promtail)
4. ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π endpoint `/api/test-logging`
5. ‚úÖ Grafana –∑–∞–ø—É—â–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ http://localhost:3001
6. ‚úÖ –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö Loki –¥–æ–±–∞–≤–ª–µ–Ω –≤ Grafana

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

- **Grafana**: http://localhost:3001 (admin/admin) ‚úÖ
- **Loki**: http://localhost:3100 ‚úÖ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ Grafana:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Grafana: http://localhost:3001
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Explore** (–∏–∫–æ–Ω–∫–∞ –∫–æ–º–ø–∞—Å–∞)
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö **Loki**
4. –í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å: `{app="company-site-next"}`
5. –ù–∞–∂–º–∏—Ç–µ **Run query**

### –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:

- –í—Å–µ –ª–æ–≥–∏: `{app="company-site-next"}`
- –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏: `{app="company-site-next", level="error"}`
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: `{app="company-site-next", level="warn"}`
- HTTP –∑–∞–ø—Ä–æ—Å—ã: `{app="company-site-next", level="http"}`
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ: `{app="company-site-next", level="info"}`

### –ò–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞:

1. **Dashboards** ‚Üí **Import**
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª: `grafana/provisioning/dashboards/company-site-dashboard.json`
3. –í —Ä–∞–∑–¥–µ–ª–µ **Data source mappings** –≤—ã–±–µ—Ä–∏—Ç–µ **Loki** (UID: loki)
4. –ù–∞–∂–º–∏—Ç–µ **Import**

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ:

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (API routes):

```typescript
import { logger, logError, logInfo } from '@/lib/logger/server';

// –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logInfo('User logged in', { userId: '123' });

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
try {
  // –∫–æ–¥
} catch (error) {
  logError('Failed to create product', error, { productId: '456' });
}
```

### –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ:

```typescript
import { clientLogger } from '@/lib/logger/client';

clientLogger.error('Failed to load data', error, {
  component: 'ProductList'
});
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–µ–∫–æ–º:

```bash
# –ó–∞–ø—É—Å–∫
pnpm run logging:start

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pnpm run logging:stop

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
pnpm run logging:logs
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ –≤ Grafana (—Å–º. –≤—ã—à–µ)
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏–µ API routes –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –≤ Grafana –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤ –≤ Loki

–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ

